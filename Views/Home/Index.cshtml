@{
    ViewData["Title"] = "Find Accredited Universities in Bulgaria";
}

<!-- Hero Section -->
<section class="relative min-h-[90vh] flex items-center justify-center overflow-hidden">
    <!-- Animated Gradient Background -->
    <div class="absolute inset-0 bg-gradient-to-br from-purple-600 via-pink-500 to-blue-600 animate-gradient opacity-90"></div>
    <div class="absolute inset-0 bg-[url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.05"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E')] opacity-20"></div>
    
    <!-- Hero Content -->
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 text-center fade-in">
        <h1 class="text-5xl md:text-7xl font-bold font-display text-white mb-6 leading-tight">
            Discover Accredited<br/>
            <span class="bg-gradient-to-r from-yellow-300 to-pink-300 bg-clip-text text-transparent">Universities in Bulgaria</span>
        </h1>
        <p class="text-xl md:text-2xl text-white/90 mb-12 max-w-3xl mx-auto font-light">
            Official Bulgarian Higher Education Platform - Explore accredited universities and national education statistics from NACID & NSI
        </p>
        
        <!-- Search Bar with Autocomplete -->
        <div class="max-w-3xl mx-auto mb-12 slide-up">
            <form asp-controller="University" asp-action="Search" method="get" class="flex flex-col sm:flex-row gap-4 relative">
                <div class="flex-1 relative">
                    <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none z-10">
                        <i data-lucide="search" class="w-5 h-5 text-gray-400"></i>
                    </div>
                    <input 
                        type="text" 
                        name="Query" 
                        id="homeSearchInput"
                        class="w-full pl-12 pr-4 py-4 rounded-2xl bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm border-0 text-lg shadow-xl focus:ring-2 focus:ring-purple-500 focus:outline-none transition-all"
                        placeholder="Search by subject (e.g., Psychology, Engineering, Medicine)"
                        required
                        autocomplete="off"
                    />
                    <div id="homeAutocompleteResults" class="absolute top-full left-0 right-0 mt-2 glass dark:glass-dark rounded-2xl p-2 max-h-60 overflow-y-auto hidden z-20 shadow-2xl"></div>
                </div>
                <button 
                    type="submit" 
                    class="px-8 py-4 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl font-semibold text-lg shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-200 flex items-center justify-center gap-2"
                >
                    <i data-lucide="search" class="w-5 h-5"></i>
                    Search
                </button>
            </form>
        </div>
        
        <!-- CTA Buttons -->
        <div class="flex flex-col sm:flex-row gap-4 justify-center items-center slide-up">
            <a 
                asp-controller="University" 
                asp-action="Index" 
                class="px-8 py-4 bg-white/20 backdrop-blur-sm text-white rounded-2xl font-semibold border-2 border-white/30 hover:bg-white/30 transition-all duration-200 transform hover:scale-105 flex items-center gap-2"
            >
                <i data-lucide="building-2" class="w-5 h-5"></i>
                Explore Universities
            </a>
            <a 
                href="#stats" 
                class="px-8 py-4 bg-white text-purple-600 rounded-2xl font-semibold shadow-xl hover:shadow-2xl transition-all duration-200 transform hover:scale-105 flex items-center gap-2"
            >
                <i data-lucide="bar-chart-3" class="w-5 h-5"></i>
                Compare Now
            </a>
        </div>
    </div>
    
    <!-- Scroll Indicator -->
    <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 animate-bounce">
        <i data-lucide="chevron-down" class="w-6 h-6 text-white/60"></i>
    </div>
</section>

<!-- Stats Section -->
<section id="stats" class="py-20 bg-gray-50 dark:bg-gray-800/50">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Stat Card 1 -->
            <div class="glass dark:glass-dark rounded-3xl p-8 card-hover text-center">
                <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center">
                    <i data-lucide="building-2" class="w-8 h-8 text-white"></i>
                </div>
                <h3 class="text-4xl font-bold mb-2 gradient-text">5,000+</h3>
                <p class="text-gray-600 dark:text-gray-400 font-medium">Universities</p>
            </div>
            
            <!-- Stat Card 2 -->
            <div class="glass dark:glass-dark rounded-3xl p-8 card-hover text-center">
                <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center">
                    <i data-lucide="globe" class="w-8 h-8 text-white"></i>
                </div>
                <h3 class="text-4xl font-bold mb-2 gradient-text">28</h3>
                <p class="text-gray-600 dark:text-gray-400 font-medium">Regions</p>
            </div>
            
            <!-- Stat Card 3 -->
            <div class="glass dark:glass-dark rounded-3xl p-8 card-hover text-center">
                <div class="w-16 h-16 mx-auto mb-4 rounded-2xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center">
                    <i data-lucide="book-open" class="w-8 h-8 text-white"></i>
                </div>
                <h3 class="text-4xl font-bold mb-2 gradient-text">10,000+</h3>
                <p class="text-gray-600 dark:text-gray-400 font-medium">Programs</p>
            </div>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-20 bg-white dark:bg-gray-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-16">
            <h2 class="text-4xl md:text-5xl font-bold font-display mb-4">Why Choose UniversityFinder?</h2>
            <p class="text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                Everything you need to make the right decision for your education
            </p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Feature 1 -->
            <div class="glass dark:glass-dark rounded-3xl p-8 card-hover">
                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center mb-6">
                    <i data-lucide="search" class="w-7 h-7 text-white"></i>
                </div>
                <h3 class="text-2xl font-bold mb-3">Search by Subject</h3>
                <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
                    Find accredited Bulgarian universities offering your desired field of study with official data from NACID.
                </p>
            </div>
            
            <!-- Feature 2 -->
            <div class="glass dark:glass-dark rounded-3xl p-8 card-hover">
                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center mb-6">
                    <i data-lucide="map-pin" class="w-7 h-7 text-white"></i>
                </div>
                <h3 class="text-2xl font-bold mb-3">Filter by Region</h3>
                <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
                    Explore universities by Bulgarian regions: Sofia, Plovdiv, Varna, Burgas, and more.
                </p>
            </div>
            
            <!-- Feature 3 -->
            <div class="glass dark:glass-dark rounded-3xl p-8 card-hover">
                <div class="w-14 h-14 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 flex items-center justify-center mb-6">
                    <i data-lucide="bot" class="w-7 h-7 text-white"></i>
                </div>
                <h3 class="text-2xl font-bold mb-3">Education Statistics</h3>
                <p class="text-gray-600 dark:text-gray-400 leading-relaxed">
                    Access official NSI statistics on student enrollment, graduates, and regional education analytics.
                </p>
            </div>
        </div>
    </div>
</section>

<partial name="_ChatBot" />

@section Scripts {
    <script>
        lucide.createIcons();
        
        // Autocomplete for home search
        const homeSearchInput = document.getElementById('homeSearchInput');
        const homeAutocompleteResults = document.getElementById('homeAutocompleteResults');
        let homeAutocompleteTimeout;
        
        homeSearchInput?.addEventListener('input', function(e) {
            const query = e.target.value.trim();
            
            clearTimeout(homeAutocompleteTimeout);
            
            if (query.length < 2) {
                homeAutocompleteResults.classList.add('hidden');
                return;
            }
            
            homeAutocompleteTimeout = setTimeout(async () => {
                try {
                    const response = await fetch(`@Url.Action("Autocomplete", "University")?query=${encodeURIComponent(query)}`);
                    const suggestions = await response.json();
                    
                    if (suggestions.length > 0) {
                        homeAutocompleteResults.innerHTML = suggestions.slice(0, 5).map(s => `
                            <div class="p-3 hover:bg-white/10 dark:hover:bg-white/5 rounded-lg cursor-pointer autocomplete-item" data-name="${s.name}">
                                <div class="font-medium text-white">${s.name}</div>
                                <div class="text-xs text-white/70">${s.country || ''}</div>
                            </div>
                        `).join('');
                        homeAutocompleteResults.classList.remove('hidden');
                        
                        // Add click handlers
                        document.querySelectorAll('.autocomplete-item').forEach(item => {
                            item.addEventListener('click', function() {
                                homeSearchInput.value = this.dataset.name;
                                homeAutocompleteResults.classList.add('hidden');
                                homeSearchInput.closest('form')?.submit();
                            });
                        });
                    } else {
                        homeAutocompleteResults.classList.add('hidden');
                    }
                } catch (error) {
                    console.error('Autocomplete error:', error);
                    homeAutocompleteResults.classList.add('hidden');
                }
            }, 300);
        });
        
        // Hide autocomplete when clicking outside
        document.addEventListener('click', function(e) {
            if (!homeSearchInput?.contains(e.target) && !homeAutocompleteResults?.contains(e.target)) {
                homeAutocompleteResults?.classList.add('hidden');
            }
        });
        
        // Smooth scroll for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });
    </script>
}
